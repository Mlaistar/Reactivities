{"ast":null,"code":"import { makeAutoObservable, runInAction } from \"mobx\";\nimport agent from '../api/agent';\nexport default class ActivityStore {\n  constructor() {\n    this.activities = [];\n    this.selectedActivity = null;\n    this.editMode = false;\n    this.loading = false;\n    this.loadingInitial = false;\n\n    this.loadActivities = async () => {\n      this.loadingInitial = true;\n\n      try {\n        const activities = await agent.Activities.list();\n        runInAction(() => {\n          activities.forEach(activity => {\n            activity.date = activity.date.split('T')[0];\n            activities.push(activity); // mutate state in\n            //#region Redux is an immutable state management system, but blowbacks is not that kind of library, Moakes creates mutable objects that we can and should mutate directly. \n            //It does not use immutable structures so we can mutate our states inside our method here.\n            //#endregion\n          });\n          this.loadingInitial = false;\n        });\n      } catch (error) {\n        console.log(error);\n        runInAction(() => {\n          this.loadingInitial = false;\n        });\n      }\n    };\n\n    makeAutoObservable(this);\n  } // either use promises or async awaits.\n\n\n}","map":{"version":3,"sources":["C:/Users/Mlaistar/source/vs_code/Reactivities/client-app/src/app/stores/activityStore.ts"],"names":["makeAutoObservable","runInAction","agent","ActivityStore","constructor","activities","selectedActivity","editMode","loading","loadingInitial","loadActivities","Activities","list","forEach","activity","date","split","push","error","console","log"],"mappings":"AACA,SAASA,kBAAT,EAA6BC,WAA7B,QAAgD,MAAhD;AACA,OAAOC,KAAP,MAAkB,cAAlB;AAEA,eAAe,MAAMC,aAAN,CAAoB;AAQ/BC,EAAAA,WAAW,GAAG;AAAA,SANdC,UAMc,GANW,EAMX;AAAA,SALdC,gBAKc,GALsB,IAKtB;AAAA,SAJdC,QAIc,GAJF,KAIE;AAAA,SAHdC,OAGc,GAHJ,KAGI;AAAA,SAFdC,cAEc,GAFG,KAEH;;AAAA,SAKdC,cALc,GAKG,YAAY;AACzB,WAAKD,cAAL,GAAsB,IAAtB;;AAEA,UAAI;AAEA,cAAMJ,UAAU,GAAG,MAAMH,KAAK,CAACS,UAAN,CAAiBC,IAAjB,EAAzB;AACAX,QAAAA,WAAW,CAAC,MAAM;AAElBI,UAAAA,UAAU,CAACQ,OAAX,CAAmBC,QAAQ,IAAI;AAC/BA,YAAAA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;AACAX,YAAAA,UAAU,CAACY,IAAX,CAAgBH,QAAhB,EAF+B,CAEJ;AACvB;AACA;AACA;AACD,WANH;AAQA,eAAKL,cAAL,GAAsB,KAAtB;AACH,SAXc,CAAX;AAaH,OAhBD,CAgBE,OAAMS,KAAN,EAAa;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAjB,QAAAA,WAAW,CAAC,MAAM;AAClB,eAAKQ,cAAL,GAAsB,KAAtB;AACH,SAFc,CAAX;AAGH;AAEJ,KA/Ba;;AACVT,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAV8B,CAY/B;;;AAZ+B","sourcesContent":["import { Activity } from './../models/activity';\r\nimport { makeAutoObservable, runInAction } from \"mobx\";\r\nimport agent from '../api/agent';\r\n\r\nexport default class ActivityStore {\r\n    \r\n    activities: Activity[] = [];\r\n    selectedActivity: Activity | null = null;\r\n    editMode =  false;\r\n    loading = false;\r\n    loadingInitial = false;\r\n    \r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    // either use promises or async awaits.\r\n    loadActivities = async () => {\r\n        this.loadingInitial = true;\r\n\r\n        try {\r\n\r\n            const activities = await agent.Activities.list();\r\n            runInAction(() => {\r\n\r\n            activities.forEach(activity => {\r\n            activity.date = activity.date.split('T')[0]\r\n            activities.push(activity); // mutate state in\r\n                //#region Redux is an immutable state management system, but blowbacks is not that kind of library, Moakes creates mutable objects that we can and should mutate directly. \r\n                //It does not use immutable structures so we can mutate our states inside our method here.\r\n                //#endregion\r\n              })\r\n            \r\n            this.loadingInitial = false;\r\n        })\r\n            \r\n        } catch(error) {\r\n            console.log(error);\r\n            runInAction(() => {\r\n            this.loadingInitial = false;\r\n        })\r\n        }\r\n\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}